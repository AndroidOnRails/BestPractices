<!DOCTYPE html>
<html lang="de">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Durchdachte Dateistruktur &middot; Best Practices
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/BestPractices/css/poole.css">
  <link rel="stylesheet" href="/BestPractices/css/syntax.css">
  <link rel="stylesheet" href="/BestPractices/css/lanyon.css">
  <link rel="stylesheet" href="/BestPractices/css/custom.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/BestPractices/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/BestPractices/public/favicon.ico">

  <!-- Icon Name -->
  <meta name="apple-mobile-web-app-title" content="JL Best Practices">
  <meta name="application-name" content="JL Best Practices">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-TileImage" content="/mstile-144x144.png">
  <meta name="theme-color" content="#0e3e64">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p></p>
  </div>

  <nav class="sidebar-nav">
    
      <a class="sidebar-nav-item" href="/BestPractices/en/">
        
        Englisch
      </a>
    
      <a class="sidebar-nav-item" href="/BestPractices/de/">
        
        Deutsch
      </a>
    

    
    
      
        
      
    
      
        
          
          <a class="sidebar-nav-item" href="/BestPractices/de/about.html">Über dieses Projekt</a>
          
        
      
    
      
        
      
    
      
        
          
        
      
    
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; Jamit Labs 2017.
      <br>
      Alle Rechte vorbehalten.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <img src="/BestPractices/jl-logo.png" alt="JamitLabs Mini Logo" align="left" width="100px" height="30px">
            &nbsp;
            <a href="/BestPractices/de" title="Startseite">Best Practices</a>
            <small>App-Entwicklung, verbessert.</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <article class="post">

  <h1 class="post-title">
    Durchdachte Dateistruktur
  </h1>

  <p class="post-date">
    AP010-0200
     •
    <time datetime="2016-01-01T01:00:00+01:00" itemprop="datePublished">
      01. Januar 2016
    </time>
     •
    <span itemprop="author" itemscope itemtype="http://schema.org/Person">
      <span itemprop="name">
        Cihat Gündüz
      </span>
    </span>
  </p>

  <div class="post-content">
    <h2 id="wie-finde-ich-meine-dateien-schnell-in-xcode">Wie finde ich meine Dateien schnell in Xcode?</h2>

<p>Während Xcode über seine mehr als 13 Jahre Lebenszeit immer mehr nützliche Funktionen erhalten hat, die das Arbeiten
damit immer weiter vereinfachten (wie Tabs, Assistant-Editor, Quick-Open mit <code class="highlighter-rouge">Cmd+Umschalt+o</code>) so bleibt es in der
Praxis dabei, dass der Project-Navigator meist der Dreh- und Angelpunkt der Arbeit in Xcode darstellt. Dort können nicht
nur neue Dateien gefunden, geöffnet, erstellt und umbenannt werden, sondern auch das Sortieren von verschiedenen
zusammengehörigen Dateien verschiedenster Art in sogenannten Groups ist möglich. Diese Gruppen sind von der
Dateistruktur im Finder (das Mac-Pendant zum Windows Explorer) komplett unabhängig, sodass es möglich ist (wie in vielen
älteren Projekten auch üblich) sämtliche Dateien innerhalb des Hauptprojektverzeichnisses zu belassen und die
Strukturierung und Gruppierung der Dateien komplett in Xcode vorzunehmen. Eine neue Gruppe erstellt man mit einem
Rechtsklick im Project-Navigator und dem Eintrag “New Group”.</p>

<p>Das hilfreichste dabei, die richtige Datei schnell in einem Projekt wiederzufinden, ist es, den Aufbau der Dateigruppen
im jeweiligen Projekt zu kennen. Diese Struktur ist im Allgemeinen bei jedem Entwickler unterschiedlich, ein Problem,
das nicht nur bei der iOS-Entwicklung auftritt. Andere Plattformen wie z.B. Ruby on Rails (kurz Rails) lösen dieses
Problem mit gemeinsamen Konventionen, die klar festlegen, wo welche Datei hingehört – das dahinterstehende Prinzip wird
<a href="https://en.wikipedia.org/wiki/Convention_over_configuration">“Convention over Configuration”</a> – kurz “CoC” genannt.
Beim Erstellen eines Rails-Projektes wird dabei etwa automatisch eine ganze Projektverzeichnisstruktur geschaffen, in
die man seine Dateien nur noch korrekt einfügen muss. Und selbst dafür gibt es bei Rails hilfreiche Kommandos.</p>

<p>Während wir bei iOS/Android <em>noch</em> nicht soweit sind ein Projekt automatisch generieren und die Dateien an die richtigen
Stellen einfügen zu lassen, so können wir aber durchaus schon eine Projektstruktur mit semantischer Bedeutung vorgeben,
die einerseits das Auffinden aber andererseits auch das Entscheiden vereinfacht, wo sich eine Datei befinden soll. Im
besten Falle sollte eine solche Projektstruktur zugleich eine sinnvolle Trennung von Programmlogik in Bestandteile mit
klaren Verantwortlichkeiten sowie andere Prinzipien gut entwickelter Software begünstigen (siehe etwa
<a href="http://www.oodesign.com/design-principles.html">hier</a>, <a href="https://msdn.microsoft.com/en-us/library/ee658124.aspx">hier</a>
oder <a href="http://code.tutsplus.com/tutorials/3-key-software-principles-you-must-understand--net-25161">hier</a> – bzw. in
Wikipedia-Artikeln gesprochen [hier](https://en.wikipedia.org/wiki/SOLID_(object-oriented_design),
<a href="https://en.wikipedia.org/wiki/GRASP_(object-oriented_design) oder
[hier](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself)">hier</a>.</p>

<h2 id="wie-sollten-meine-dateien-innerhalbauerhalb-von-xcode-strukturiert-sein">Wie sollten meine Dateien innerhalb/außerhalb von Xcode strukturiert sein?</h2>

<p>Wegen der Unabhängigkeit der Groups-Funktion (Struktur in Xcode) und der tatsächlichen Datei-Struktur (im Finder) gilt
es dabei grundsätzlich zu beachten, dass eine Konvention Vorgaben für beide Strukturen machen sollte und diese sich im
besten Falle gut ergänzen. Da im Regelfall mit Dateien innerhalb von Xcode hantiert wird, sollte sich die tatsächliche
Dateistruktur an der Gruppen-Struktur orientieren und diese möglichst genau nachstellen. Es ist daher zunächst
naheliegend beide Strukturen genau gleich aufzubauen, dies stellt sich jedoch in der Praxis eher als Handicap heraus:
Einerseits muss dadurch jede Änderung doppelt vorgenommen werden (einmal im Xcode Project-Navigator und zusätzlich im
Finder), außerdem muss bei jeder Änderung im Finder der Path zur geänderten Datei in Xcode manuell neu vorgegeben
werden, wodurch der Aufwand nochmal zusätzlich steigt (aus doppeltem Aufwand wird also sogar dreifacher Aufwand).</p>

<p>Ziel unserer Konvention sollte es von daher sein, dass wir die Xcode-Projektstruktur möglichst nachstellen, jedoch auch
maximal flexibel dabei bleiben wollen, um die Dateien im Project-Navigator ohne Zusatzaufwand neu gruppieren zu können.
Unser Vorschlag dazu ist, dass im Finder lediglich eine Trennung nach Art der Datei stattfindet, wobei meist mindestens
folgende Arten vorhanden sind:</p>

<ul>
  <li><strong>Code</strong>: Alle Dateien, die Code mit App-Logik enthalten. Typische Endungen: <code class="highlighter-rouge">.swift</code>, <code class="highlighter-rouge">.h</code>, <code class="highlighter-rouge">.m</code>.</li>
  <li><strong>User Interface</strong>: Alle Interface-Builder Dateien, die das Design der App vorgeben. Typische Endungen: <code class="highlighter-rouge">.storyboard</code>,
<code class="highlighter-rouge">.xib</code>.</li>
  <li><strong>Assets</strong>: Alle Medien-Inhalte der App. Typische Endungen: <code class="highlighter-rouge">.xcassets</code>, <code class="highlighter-rouge">.png</code>, <code class="highlighter-rouge">.jpg</code>.</li>
  <li><strong>Constants</strong>: Alle durch Werkzeuge automatisch generierten Klassen, die Konstanten anbieten. Mehr dazu in <a href="#">diesem</a>
Artikel.</li>
  <li><strong>Supporting Files</strong>: Alle Dateien, die in gewisser Weise unterstützend/konfigurierend das Projekt ergänzen, jedoch
nicht eigenständig als Bestandteil zusammenfassbar sind. Typischerweise <code class="highlighter-rouge">Info.plist</code>, <code class="highlighter-rouge">...-Bridging-Header.h</code>,
<code class="highlighter-rouge">...PrefixHeader.pch</code>, <code class="highlighter-rouge">Localizable.strings</code>.</li>
</ul>

<p>Je nach Projekt können mehr Arten vorhanden sein oder sogar eine Unterteilung innerhalb von Ordnern stattfinden.
Nachfolgend seien bereits benutzte Beispiele genannt:</p>

<ul>
  <li><strong>Data Models</strong>: Alle Dateien, die Datenmodelle definieren (z.B. via Core Data). Typische Endungen: <code class="highlighter-rouge">.xcdatamodeld</code>.</li>
  <li><strong>User Interface/iOS</strong> und <strong>User Interface/tvOS</strong>: Bei Frameworks, die sowohl iOS als auch tvOS unterstützen müssen
alle Interface Builder Dateien jeweils für die unterschiedlichen Plattformen getrennt angelegt werden.</li>
  <li><strong>Assets</strong>, <strong>Assets/Fonts</strong>, <strong>Assets/PNGs</strong>, <strong>Assets/SVGs</strong>: Bei Vorhandensein etwa von vielen Fonts, PNGs und SVGs
lohnt es sich diese zusammenzufassen und den Rest weiterhin direkt im <code class="highlighter-rouge">Assets</code>-Ordner zu belassen.</li>
</ul>

<p>Aus Gründen der Einheitlichkeit sollte dieselbe Struktur gleichermaßen in App-Projekten wie in Frameworks verwendet
werden (mehr zur Erstellung von Dynamic Frameworks <a href="#">hier</a>). Frameworks können auf unterschiedliche Weise in Projekte
eingebunden werden (mehr zu Dependency Management <a href="#">hier</a>), die Zukunft des Framework-Einbindens ist aber mit aller
Wahrscheinlichkeit der offizielle Weg über den sogenannten <a href="https://swift.org/package-manager/">Swift Package Manager</a>
(SPM), der sich derzeit <a href="https://github.com/apple/swift-package-manager">noch in Entwicklung befindet</a>, jedoch schon mit
Swift 3 in erster Version fertig werden soll. Damit der SPM alle Dateien die als Teil des Frameworks gebuildet werden
sollen leicht findet, hat der SPM selbst eine Minimalvorgabe (siehe
<a href="https://github.com/apple/swift-package-manager/blob/master/Documentation/SourceLayouts.md">hier</a>) wonach alle Dateien,
die Teil des Frameworks sein sollen in einem Unterordner namens <code class="highlighter-rouge">Sources</code> platziert sein sollten. Für die Tests, die die
korrekte Funktionsweise eines Frameworks langfristig sicherstellen wird der Unterordner <code class="highlighter-rouge">Tests</code> empfohlen (mehr zum
Testen von Code <a href="#">hier</a>).</p>

<h2 id="empfohlene-dateistruktur">Empfohlene Dateistruktur</h2>

<p>Verbindet man die Anforderungen des Swift Package Managers und unsere Dateitypen-Strukturierung, so ergibt sich, dass
für Dateien, die Teil des Hauptprojekts bzw. des Frameworks sind, innerhalb des Ordners <code class="highlighter-rouge">Sources</code> in die genannten
Typ-Ordner (z.B. <code class="highlighter-rouge">Code</code>) einsortiert werden sollten. Das gleiche wird auch mit Dateien getan, die Teil der Tests sind,
nur innerhalb des Ordners <code class="highlighter-rouge">Tests</code>. Hieraus folgt sowohl für App-Projekte, als auch für Frameworks eine Struktur, die
etwa so aussieht:</p>

<p><img src="../../../BestPractices/public/images/AP010/0200/example-project-file-structure.png" alt="example-project-file-structure" /></p>

<p>Für UI-Tests kann zusätzlich ein Ordner Namens <code class="highlighter-rouge">UI Tests</code> eingeführt werden, worin wiederum die empfohlene Struktur
angewandt wird. Inwiefern dies sich mit dem Swift Package Manager verträgt muss jedoch noch geklärt werden.</p>

<h2 id="empfohlene-gruppen-struktur--einrichtungs-tipps">Empfohlene Gruppen-Struktur &amp; Einrichtungs-Tipps</h2>

<p>TODO: Bei diesem Paragraphen empfehle ich, dass das Beispiel-Projekt gleich mit erstellt wird und die einzelnen Schritte
noch im Detail erklärt und mit Screenshots versehen werden. Auch die bereits im Text genannten Beispiele (etwa
“Sources/Code/Home”) sollten mit den jeweils im Beispiel-Projekt verwendeten Screen-Namen ersetzt werden (sofern sie
anders heißen).</p>

<p>TODO: Ergänzen wofür “Relative to Group”, “Relative to Project” steht.</p>

<p>Passend zur Dateistruktur sollten die Gruppen im Projekt eingerichtet werden. Dabei sollte im ersten Schritt jeder
Ordner im Projekt-Verzeichnis mit einer Gruppe vertreten sein und genau die Dateien enthalten, die auch im jeweiligen
Verzeichnis enthalten sind. Beim Hinzufügen von neuen Dateien kann dies künftig mit einem Rechtsklick auf die jeweilige
Gruppe und “New File” geschehen und Xcode wird automatisch den korrekten Ordner im Dateiverzeichnis auswählen, wodurch
man nach dem ersten Einrichten nie mehr direkt am Dateien-Verzeichnis Dateien hin und her schieben muss.</p>

<p>TODO: Bild erstellen (erst wenn vorheriges TODO geklärt)
<img src="../../../BestPractices/public/images/AP010/0200/correct-path.png" alt="correct-path" />
<em>Im File Inspector findet man den Path einer Datei</em></p>

<p>Hierzu müssen aber die Gruppen, für die es jeweils einen Ordner gibt (z.B. <code class="highlighter-rouge">Sources</code> und darin <code class="highlighter-rouge">Code</code>) den korrekten
Path gesetzt haben, was man im Nachhinein mit dem Ordner-Symbol im File-Inspector rechts in Xcode unter “Location”
ändern kann. Am einfachsten ist es jedoch, einmal sämtliche Gruppen in Xcode zu entfernen (wichtig: nur “Remove
References” auswählen) und die Ordner Sources, Tests und evtl. UI Tests einmal vom Finder links in den Project-Navigator
per Drag-and-Drop direkt unterhalb des Projekts zu ziehen und im anschließenden Dialog sicherzustellen, dass “Create
Groups” angehakt ist. So ist die ganze Datei-Struktur schon einmal korrekt im Project-Navigator. Es lohnt sich, diesen
Schritt getrennt für die Ordner “Sources”, “Tests” und “UI Tests” zu machen und dabei beim Import das jeweils korrekte
Target anzuhaken.</p>

<p><img src="../../../BestPractices/public/images/AP010/0200/add-files.png" alt="correct-path" />
<em>Beim Hinzufügen von Dateien sollten diese Haken gesetzt sein</em></p>

<p>TODO: Folgende Beispielpfade anpassen</p>

<p>Ist die Grundstruktur erst einmal im Project-Navigator vorhanden, so kann man fortan innerhalb einer Gruppe (z.B.
<code class="highlighter-rouge">Code</code>) beliebig weiter Untergruppen erstellen. Hierbei empfiehlt es sich jeweils nach zugehörigen Screens (sofern
vorhanden) oder generell Funktionen zu gruppieren. So kann ein Projekt etwa die Untergruppen “Sources/Code/ScreenHome”,
“Sources/Code/Settings”, “Sources/Code/Networking”, “Sources/Code/Core Data”, “Sources/Code/Extensions”,
“Sources/Code/Helpers”, “Sources/User Interface/Home”, “Sources/User Interface/Settings”, “Tests/Code/Home”,
“Tests/Code/Settings”, “Tests/Code/Core Data”, “Tests/Code/Extensions” und “Tests/Code/Helpers” enthalten. Zugehörige
Untergruppen in verschiedenen Typen und Targets sollten dabei gleich genannt werden, wie in den voran genannten
Beispielen jeweils mit “Home” und “Settings” geschehen. Nachfolgendes Bild soll dies veranschaulichen:</p>

<p><img src="../../../BestPractices/public/images/AP010/0200/xcode-project-navigator.png" alt="correct-path" />
<em>Ein fertig eingerichteter Project Navigator</em></p>

  </div>

  <hr />
  <div>
    
      <p style="float:left;">
        <a href="/BestPractices/de/articles/AP010-0100.html">
          <small>
            << Zurück: AP010-0100
          </small>
        </a>
      </p>
    

    
      <p style="float:right;">
        <a href="/BestPractices/de/articles/AP010-0300.html">
          <small>
            Weiter: AP010-0300 >>
          </small>
        </a>
      </p>
    
  </div>

</article>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
